category: Messaging
commonfields:
  id: Mail Listener v2
  version: -1
configuration:
- display: Mail Server Hostname / IP address
  name: MailServerURL
  required: true
  type: 0
- display: Fetch incidents
  name: isFetch
  required: false
  type: 8
- display: Incident type
  name: incidentType
  required: false
  type: 13
- display: IMAP Port
  name: port
  required: true
  type: 0
  defaultvalue: 143
- name: credentials
  display: Username
  required: true
  type: 9
- defaultvalue: INBOX
  display: Incoming mail folder
  name: folder
  required: true
  type: 0
- display: Forward mails from these senders addresses only (eg. admin@demo.com,test@demo.com)
  name: permittedFromAdd
  required: false
  type: 0
- display: Forward mails from these domains only (eg. demo.com, test.com)
  name: permittedFromDomain
  required: false
  type: 0
- defaultvalue: 3 days
  display: First fetch time
  name: first_fetch
  required: false
  type: 0
- display: Trust any certificate (not secure)
  name: insecure
  required: false
  type: 8
#TODO think if we want to remove
- display: Use system proxy settings
  name: proxy
  required: false
  type: 8
- defaultvalue: 'true'
  display: Filter by SINCE date for IMAP that supports it. Lotus Notes does not by
    default.
  name: filterByDate
  required: false
  type: 8
- display: Delete processed emails
  hidden: false
  name: delete_processed
  required: false
  type: 8
- display: Include raw body in incidents
  hidden: false
  name: Include_raw_body
  required: false
  type: 8
- defaultvalue: '50'
  display: The maximum number of incidents to fetch each time
  hidden: false
  name: limit
  required: false
  type: 0
description: Listen to a mailbox, enable incident triggering via e-mail
display: Mail Listener v2
name: Mail Listener v2
script:
  dockerimage: devtesting/mail_listener:1.0.0.1596109394
  feed: false
  isfetch: true
  longRunning: false
  longRunningPort: false
  runonce: false
  script: '-'
  subtype: python3
  type: python
tests:
- No tests
